@model CartItemDto
@{
    var item = Model;
}

@if (item.CartHeader is not null)
{
    <div class="row" cart-item-id="@item.Id">
        <a class="item row ms-3 col">
            <div class="img col-auto">
                <img class=""
                     alt="@item.Product!.Name"
                     src="@Url.Content($"~/images{item.Product.CoverImagePath}")"
                     onerror="
                                        this.onerror = null;
                                        this.src = '/images/stores/product-img.png'"/>
            </div>
            <div class="info col">
                <h4 class="name">@item.Product.Name</h4>
                <div class="description">@item.Product.Description</div>
            </div>
            <div class="price col-auto mt-2">
                @if (item.Product.Discount > 0)
                {
                    <div class="old-price">
                        @item.Product.Price.ToString("N0", CultureInfo.InvariantCulture).Replace(",", ".")
                        <span>đ</span>
                    </div>
                    <div class="actual-price">
                        @((item.Product.Price - item.Product.Discount).ToString("N0", CultureInfo.InvariantCulture).Replace(",", "."))
                        <span>đ</span>
                    </div>
                }
                else
                {
                    <div class="actual-price">
                        @item.Product.Price.ToString("N0", CultureInfo.InvariantCulture).Replace(",", ".")
                        <span>đ</span>
                    </div>
                }
            </div>
        </a>
        <div class="button-section d-flex justify-content-end col-auto row mt-3 me-2">
            <a class="btn btn-danger d-flex align-items-center justify-content-center col-auto cart-item-increase"
               item-id="@item.Id" customerId="@item.CartHeader!.CustomerId" productId="@item.ProductId" quantity="-1"
               onclick="updateCartItemQuantity(this)">-</a>
            <div class="col-auto" id="@item.Id">@item.Quantity</div>
            <a class="btn btn-danger d-flex align-items-center justify-content-center col-auto cart-item-decrease"
               item-id="@item.Id" customerId="@item.CartHeader.CustomerId" productId="@item.ProductId" quantity="1"
               onclick="updateCartItemQuantity(this)">+</a>
        </div>
    </div>
}

<span class="ms-1">@Model.CartHeader!.TotalPrice.ToString("N0", CultureInfo.InvariantCulture).Replace(",", ".")</span>
